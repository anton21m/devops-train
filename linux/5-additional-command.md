### Конспект статьи https://selectel.ru/blog/basic-linux-commands/ 

whoami — какой пользователь сейчас используется
whatis — краткое описание программы

whatis apt краткое описание программы apt
whatis nano краткое описание программы nano

whereis — полный путь к программе
whereis bash

cat /etc/*-release — какой дистрибутив установлен на моей машине

hostname, ifconfig — управление сетью. Эти команды покажут DNS-домен и IP-адрес вашего компьютера.

ip a выведет сетевые интерфейсы

ping — диагностика неисправностей сети

#### Команды для управления файлами и директориями

ls — list, отобразить директории и файлы

pwd —  покажет путь к текущей директории

mkdir dir{0..42} создать 42 директории
touch dir{00..42}/text{00..42}.txt создать 42 файла в каждой директории 

> file8 создать файл

cp -r dir00/* dir03/dir скопировать все содержимое директории в dir
mv -v dir19/* dir17/ переместить все содержимое папки (оставить папку пусотй) ключ -v подробно говорит об все перемещенных файлах и папках

##### Глубина вложенности

find dir9 -maxdepth 1 -type f -print0 | xargs -0 mv -t todo/ найти все файлы в dir9 и переместить их в todo

-print0 — выводит путь к текущему файлу на стандартный вывод, за которым следует символ ASCII NULL (код символа 0)
-0 означает что значения разделены NULL символом
-t говорит что все аргументы  source переместить в target директорию

#### Команды для архивирования

gzip [файлы для архивирования] запаковать файл/ы в архив
gzip file1.txt file2.txt создаст архив для каждого файла

gunzip — распаковать архив — gunzip файл.расширение.gz (архив удаляется)
gunzip file1.txt.gz

zip — более привычный формат архива. Чтобы передать файл на другую операционную систему, и чтобы адресат мог его распаковать лучше использовать утилиту zip.

Утилита zip терминала Linux позволяет упаковать сразу несколько файлов в один архив (gzip также позволяет поместить несколько файлов в архив, но с ней сложнее разобраться) с помощью рекурсивной опции -r. Текст команды Linux:

zip -r texts.zip text12.txt text13.txt

В данном случае texts.zip будет названием архива, а text12.txt и text13.txt — файлы, которые нужно поместить в архив.

zip -r archive.zip file{0..4}.txt запаковать файлы в врхив archive.zip

tar — создание резервных копий. Утилита tar создает архивы с расширением .tar, утилиту обычно используют для резервного копирования так как она не сжимает файлы, а только собирает в архив. Чтобы создать архив .tar, выполните команду с опциями —cvf. Например:

tar -cvf newark.tar text07.txt ../dir22 запаковать в архив файл и папку

tar -tvf newark.tar просмотреть содержимое архива

Опции для распаковки .tar архива -xvf:

tar -xvf newark.tar распаковать архив в текущую папку

#### Команды для работы с текстом

nano text42.txt радактировать файл в редакторе

grep — поиск

Чтобы найти текст в файле используйте grep, эта команда выведет соответствующие запросу строки текста. Можно искать словом, строкой или регулярным выражением, а вывод может быть файлом или папкой, совпадающим или наоборот — несовпадающим. Полезно использовать grep при поиске по большим логам.

Кроме непосредственно grep есть варианты pgrep, fgrep, egrep, которые выполняют ту же функцию, но для других целей. Часто grep используют в сочетании с другими командами, чтобы упростить работу с большими объемами данных, ниже мы еще увидим примеры такого использования.
https://superuser.com/questions/508881/what-is-the-difference-between-grep-pgrep-egrep-fgrep

head, tail — начало и конец текста

head -с 100 text00.txt получить 100 байт текста

#### Команды для управления процессами

kill / pkill / killall — завершить процесс
Первый вопрос — почему так много, какую команду использовать? Давайте по порядку:

kill — убить процесс по его идентификатору (Process ID);
pkill — убить процесс по его имени;
killall — убить все процессы с указанным именем.

atop, htop -  Отображают не только активные процессы с обновлением в две секунды, но и контроль над загрузкой и т.д. Утилиты полезны для системных администраторов, но для обычного пользователя все-таки перебор.

ps axu | grep имя_процесса. С помощью утилиты grep можно вычленить нужный процесс, если известно его имя.

pidof, pgrep — самый короткий способ выяснить ID процесса, если известно его имя.
pidof bash выведет PID процесса
pgrep bash выведет PID процесса

#### Пакетные менеджеры или как установить файл

dpkg — установить файл с расширением .deb (только для систем на Debian).
dpkg -i package.deb — установит пакет .deb;
dpkg —remove package — удалит пакет

Примечание: Если вы работали в Windows, вы помните, что приложения удаляются не полностью, остаются пустые папки и записи в реестре. У Linux тоже есть такая особенность, остаточные файлы и папки называются dependencies (зависимости). Избавиться от них в Linux гораздо проще, чем в ОС от Майкрософт. Достаточно ввести:

dpkg —purge package.

apt — менеджер установки пакетов Debian-based

apt install имя_пакета установка пакета
apt install curl установить curl

apt remove имя_пакета удалить пакет
apt purge имя_пакета удаления зависимостей

Для автоматического удаления всего лишнего из системы используется apt autoremove.

yum — менеджер установки пакетов Red Hat

yum install для установки пакета;
yum remove для удаления;
yum autoremove для очистки.

pacman — менеджер пакетов ArchLinux

Еще один дистрибутив, имеющий свой пакетный менеджер — ArchLinux. Утилита pacman написана на языке C (Си). ArchLinux имеет только одну версию — текущую, которая постоянно обновляется, и для этой системы pacman подходит идеально. Пакеты здесь представляют собой архивы формата .tar.xz.

Пакетный менеджер pacman работает иначе чем yum, apt или dpkg. Чтобы установить или удалить пакет с помощью pacman используются опции:

-S устанавливает пакет ArchLinux;
-Sw скачивает, но не устанавливает пакет;
-U для установки пакетов с локального компьютера;
-s для поиска пакетов;
-u для обновления установленных пакетов;
-R для удаления;
-Rn для удаления резервных копий файлов конфигурации;
-Rs для удаления зависимостей.
После опции всегда идет имя пакета, т.е.:

pacman -S имя_пакета

#### Команды управления пользователями

sudo — запуск команд и приложений через терминал в Linux от имени администратора (суперпользователя)

Все важные действия в Linuxе требуют подтверждения от имени администратора, в Linux администратор называется суперпользователем или root. Чтобы выполнить команду от имени суперпользователя, нужно ввести перед ней sudo. Это позволит выполнять команды от имени суперпользователя до окончания текущей сессии в терминале.

Если вы не хотите вводить sudo каждый раз, когда терминал просит это сделать, вы можете переключиться в режим суперпользователя. Для этого выполните su, введите пароль, тогда вы сможете выполнять любые команды по умолчанию от имени суперпользователя. 

useradd (adduser) / userdel (deluser) / usermod — добавить, удалить, изменить пользователя

С помощью этих команд вы сможете управлять учетными записями пользователей. Полезно иметь под рукой такую возможность в сетевом домене или домашней сети, выдавать и ограничивать права.

useradd guest добавить пользователя guest
passwd guest добавить пароль пользователю guest
userdel guest удалить пользователя guest

Третья команда — usermod позволяет изменять учетные записи пользователей: изменять домашнюю директорию, имя учетной записи, оболочку входа в систему, «срок годности» пароля и т.д.

#### Команды выключения и перезагрузки

shutdown — выключение

shutdown +10 выключить компьютер через 10 минут
shutdown +0 выключить сейчас

Некоторые опции:

    -H (Halt) — останавливает все функции процессора, но не выключает компьютер. Halt можно использовать как самостоятельную команду, отдельно от shutdown;
    -P — полное выключение компьютера. Можно использовать как команду poweroff;
    -r (reboot) — перезагрузка. В качестве команды — reboot;
    -k — не производить никаких действий, отправить сообщение;
    -c — отменить запланированное выключение. Можно отменить выключение, только если не было задано время +0 или now.

#### Заключение, несколько советов
Мы рассмотрели основные команды Linux с примерами, надеемся, что они окажутся вам полезными. Напоследок приведем несколько советов по использованию терминала одной строкой.

Двойной символ & (амперсанд)
Предназначен для выполнения нескольких команд последовательно:

команда1 && команда2 && команда3

команда3 выполнится только после успешного исполнения команды2, а команда2 — после команды1.

Вертикальная черта | (pipe)
Вводит результат первой команды в последующую. Например, следующая команда добавит таблицу процессов к команде поиска:

ps axu | grep имя_процесса

&& и || можно комбинировать. Например вот так: команда1 && команда2 || команда3

Стрелки вверх и вниз на клавиатуре
Помогают осуществлять навигацию по последним командам. Стрелка вверх (Ctrl+P) — предыдущая выполненная команда, стрелка вниз (Ctrl+N) — следующая.

history — история
Если вы забыли, как вы выполнили действие пять дней назад, а вот оно снова потребовалось, выполните history, и терминал выведет на экран последнюю тысячу команд.

Новая вкладка bash
Не всегда удобно иметь несколько окон. Некоторые терминалы, как и браузеры, дают возможность открыть несколько вкладок сочетанием клавиш Ctrl+Shift+T.

Копирование и вставка, прерывание команды
Пробовали ли вы копировать текст и вставлять в терминал? Пробовали Ctrl+C? Ctrl+C прервет выполнение текущей команды, например таблицы процессов, сбросит текст, введенный в строку. Скопировать текст из bash — Ctrl+Shift+C, вставить — Ctrl+Shift+V (для MacOS — Command+C и Command+V соответственно).

















