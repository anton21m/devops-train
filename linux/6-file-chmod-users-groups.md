### Структура файловой системы. Уровни доступа. Права и пользователи-владельцы
В linux  системах все файлы (набор байтов). Бывают обычные и специальные файлы а также директории.
 К обычнам относятся:
    - текстовые
    - бинарные
    - файлы изображений
    - архивы и т.п.
К специальным относятся:
    - блочные для обозначения устройств
    - символьные
    - ссылочные для представления символьных ссылок
    - файлы сокетов для связи между разными процессами и пр.

file [имя файла] узнать тип файла
file .bash_history узнать тип файла
bash_history: Bourne-Again shell script, Unicode text, UTF-8 text executable, with very long lines (365)

Все папки корневой файловой структуры имеют значения:
    - bin содержит исполняемые бинарные файлы, доступны для запуска любому пользователю, является символьной ссылкой на /usr/bin
    - boot сердце системы, содержит загрузчик файловой системы и ядра
    - dev содержит файлы устройств подключенных к серверу, включая терминал, спец. устройста типа null, random, zero, диск
    - etc содержит все конфигурационные файлы служб, скрипты их запуска и отключения
    - home для домашних каталогов пользователей
    - lib и lib64 библиотеки для работы системных служб, данные для загрузки ОС. Является символьной ссылкой на /usr/lib(64)
    - media монтирует внешние устройства
    - mnt используется для временного монтирования внешних устройств
    - opt устанавливается пользовательское ПО
    - proc хранятся процессы, каждая папка PID процесса
    - root домашняя папка для корневого пользователя root
    - run данные хранимые в ОЗУ, активные сокеты
    - sbin исполняемые бинарные файлы, только для доступа с правами администратора. Является символьной ссылкой на /usr/sbin
    - srv общедоступные данные для сервисных служб
    - sys содержит виртуальную файловую систему, в этот раздел эксортируются данные ядра ОС и его модулей.
    - tmp для хранения временных файлов
    - usr хранятся исполняемы файлы, библиотеки, файлы документации man, компоненты ядра, данные о программа установленных пользователем
    - var содержит часто изменяемые данные, кеши, var/cache, логи - var/log, очереди - var/spool

#### управление пользователями в linux системах

В linux системах 3 типа пользователей:
    - администраторы с полным доступом к системе (root) с UID 0
    - обычные пользователи (ограниченный доступ к системе) c UID > 100
    - системные пользователи для работы служб и ограничения им доступа с UID от 1 до 100

Для упрощения настройки прав пользователям их объединяют в группы. Каждая группа имеет свой набор прав и ограничений. 
Если не указать группу при создании пользователя у него будет своя индивидуальная группа с именем пользователя.

cat /etc/passwd информацию о пользователях и группах

Формат файла /etc/passwd

anton:x:1000:1000:anton,,,:/home/anton:/bin/bash
[имя]:[x- означает пароль зашифрован и хранится в /etc/shadow]:[UID пользователя]:[GID идентификатор группы],,,:[домагняя папка пользователя]:[командная оболочка пользователя]

Чтобы просмотреть в удобочитаемом виде:
pinky -l [имя пользователя]

pinky покажет всех авторизуемых пользователей

w покажет всех авторизуемых пользователей и нагрузку на каждого пользователя, а также время работы сервера

id [имя пользователя] показать UID и все GID пользователя

### Права и пользователи-владельцы

Права пользователя расшифровываются как:

drwxrwxr-x  3 anton root 4096 Aug 25 13:59 kafka
    - тип файла (d директория)
    rwx доступ к чтению, записи, и исполнению(переход в директорию) для владельца
    rwx доступ к чтению, записи, и исполнению(переход в директорию) для группы владельца
    r-x доступ к чтению и исполнению(переход в директорию) для остальных
    anton папка принадлежит пользователю anton
    anton  папка принадлежит группе root

Доступен также 8 меричный формат

![Alt text](image-1.png)

chown [name or UID]:[name or GID] [файлы и папки]
chown -R new-user:new-group /home/users/new-user изменить владельца и группу рекурсивно

chgrp [группа] [файлы и папки] изменить группу для файлов и папок
chgrp root /var/tmp/run.sh изменяет группу на root

chmod [настройки прав] [файлы и папки]
    u - владелец
    g - группа владельца
    a - все остальные
chmod 777 example.txt дать полные права на файл
chmod a-x example.txt забрать права на исполнение у всех пользователей
chmod u+x example.txt дать права на исполнение владельцу



